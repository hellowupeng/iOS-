## Defining Your Subclass

定义你的子类。

你使用UIViewController的自定义子类来展示应用的内容。大多数自定义视图控制器是内容视图控制器，那就是说，它们拥有它们的所有视图并负责这些视图的数据。相反，容器视图控制器不拥有它的所有视图；它的一些视图由其他视图控制器管理。定义内容和容器视图控制器的大多数步骤是相同的，在以下部分讨论。

对于内容视图控制器，最常用的父类如下：

- 在你的视图控制器的主视图是一个表时，特别地使用UITableViewController。
- 在你的视图控制器的主视图是一个集合视图时，特别地使用UICollectionViewController。
- 为其他所有视图控制器使用UIViewController。

对于容器视图控制器，父类取决于你是否正修改一个存在的容器类或创建你自己的。对于存在的容器，无论选择哪些你想要修改的视图控制器都行。对于新的容器视图控制器，你通常创建UIViewController的子类。关于创建一个容器视图控制器的额外的信息，查看Implementing a Container View Controller。

###### 定义你的UI

为视图控制器在视觉上定义UI使用Xcode里的storyboard文件。尽管你也能通过编程创建你的UI，storyboards是一种使视图控制器内容形象化和为不同的环境自定义视图层次结构（如需要）的极好的方式。在视觉上构建UI让你快速做出改变并让你不用构建并运行你的应用就能看到结果。

图4-1显示了一个storyboard的例子。每个长方形区域表示一个视图控制器和它关联的视图。在视图控制器之间的箭头是视图控制器关系和segues。Relationships连接一个容器视图控制器和它的子视图控制器。Segues让你在界面里视图控制器之间导航。

![storyboard_bird_sightings_2x](/Users/andywu/Documents/iOS-daily-questions/View Controller Programming Guide for iOS/images/storyboard_bird_sightings_2x.png)

每个新项目有一个通常已经包含一个或多个视图控制器的主storyboard。你可以通过从库拖拽它们到你的画布来添加新的视图控制器到你的故事板。新的视图控制器没有初始关联的类，所以你必须使用Identity检查器分配一个。

使用故事板编辑器来做接下来的：

- 为视图控制器添加、安排和配置视图。
- 连接输出口和动作；查看Handling User Interactions。
- 在视图控制器之间创建关系和segues；查看Using Segues。
- 为不同的尺寸类自定义布局和视图；查看Building an Apdaptive Interface。
- 添加手势识别器来和视图一起处理用户交互；查看Event Handling Guide for iOS。

如果你是刚使用故事板来构建界面，你可以在Start Developing iOS Apps Today里找到为创建基于故事板的用户界面的手把手指导。

###### 处理用户交互

应用的响应者对象处理即将到达的事件并取得合适的动作。尽管视图控制器是响应者对象，它们几乎不直接处理触摸事件。相反，视图控制器通常用以下方式处理事件：

- 视图控制器为处理高级事件定义动作方法。动作方法响应：
  - 特定的动作。控件和一些视图调用一个动作方法来报告特定的交互。
  - 手势识别器。手势识别器调用一个动作方法来报告手势的当前状态。使用你的视图控制器来处理状态变化和响应完全的手势。
- 视图控制器观察由系统或其他对象发出的通知。通知报告变化并且是一种视图控制器更新它的状态的一种方式。
- 视图控制器扮演另一个对象的数据源或代理。视图控制器经常被用于为表和集合视图管理数据。你也可以使用它们作为一个对象的代理，例如一个发送更新的位置值到它的代理的CLLocationManager对象。

###### 在运行时显示你的视图

###### 管理视图布局

###### 高效管理内存