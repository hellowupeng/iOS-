## Design Tips

设计技巧。

对于在iOS上运行的应用，视图控制器时基本的工具，UIKit的视图控制器基础设施使创建复杂界面而不用写大量代码容易。在实现你自己的视图控制器时，使用以下技巧和指导来确保你不做可能干扰系统期望的正常行为的事情。

###### 只要有可能就使用系统提供的视图控制器

许多iOS框架定义了在应用里按原样使用的视图控制器。使用系统提供的视图控制器为你节省时间并向用户保证一贯的体验。

大多数视图控制器为特定的任务而设计。一些视图控制器提供访问用户数据，例如Contacts。其他的可以提供访问硬件或为管理媒体提供特别的调节接口。例如，UIKit里的UIImagePickerController类为拍照、拍视频和访问用户的相机胶卷显示一个标准的界面。在你创建自定义视图控制器之前，查看存在的框架看看你想要执行的任务是否已经存在一个视图控制器。

- UIKit框架为显示警告，拍照、拍视频和在iCloud上管理管理文件提供了视图控制器。UIKit也定义了许多你可以用来组织你的内容的标准容器视图控制器。
- GameKit框架为匹配玩家和管理积分榜、成就和其他游戏特性提供了视图控制器。
- Address Book UI框架为显示和选择联系人信息提供了视图控制器。
- MediaPlayer框架为播放和管理视图和从库中选择媒体资源提供了视图控制器。
- EventKit UI框架为显示和编辑用户的日历数据提供了视图控制器。
- GLKIT框架为管理一个OpenGL渲染面提供了视图控制器。
- Multipeer Connectivity框架为检测其他用户和邀请他们连接提供了视图控制器。
- Message UI框架为撰写邮件和SMS消息提供了视图控制器。
- PassKit框架为显示卡券并添加它们到卡包提供了视图控制器。
- Social框架为创作Twitter、Facebook和其他社交媒体站点消息提供了视图控制器。
- AVFoundation框架为显示媒体资源提供了一个视图控制器。

> ###### 重要
>
> 不要修改系统提供的视图控制器的视图层次结构。每个视图控制器拥有它的视图层次结构并负责维护那个层次结构的完整性。做出改变可能引入bug到代码里，或者会阻止拥有的视图控制器正确操作。在系统视图控制器例子里，总是依赖于视图控制器公开可用的方法和属性来做出修改。

关于使用特定的视图控制器的信息，查看对应框架的参考文档。

###### 使每个视图控制器成为一个孤岛

视图控制器总应该是独用的对象。视图控制器不应该知道另一个视图控制器的内部工作和视图层次结构。在两个视图控制器需要通信或传递数据的情况下，它们总应该使用显示定义的公有接口来这样做。

代理设计模式频繁用于在视图控制器之间管理通信。对于代理，一个对象定义一个协议，用于和一个遵循这个协议的关联对象通信。代理对象的确切类型不重要。要紧的是它实现了这个协议的方法。

###### 只使用根视图作为其他视图的容器

完全使用视图控制器的根视图作为其他内容的容器。使用根视图作为容器给所有视图一个通用的父视图，使得许多布局操作更简单。许多自动布局约束要求一个通用的父视图来合适的布局视图。

###### 知道你的数据存活在哪里

在模型-视图-控制器设计模式里，视图控制器的角色是促进模型对象和视图对象之间数据的移动。视图控制器可以在临时变量里保存一些数据和执行一些验证，但是它的主要职责是确保它的视图们包含精确的信息。你的数据对象负责管理实际数据并保证那些数据的整体完整性。

一个数据和接口分离的例子存在UIDocument和UIViewController之间的关系里。特别地，这两个之间不存在默认关系。UIDocument对象协调数据的加载和保存，而UIViewController对象协调视图在屏幕上的显示。如果你在两个对象之间创建一个关系，记住视图控制器为了效率只应该从文档缓存信息。实际的数据仍然属于文档对象。

###### 适应变化

应用能在不同的iOS设备上运行，视图控制器被设计来适应这些设备上的不同尺寸的屏幕。而不是在不同的屏幕上使用单独的视图控制器来管理内容，在视图控制器里使用内建的适应性支持来响应尺寸和尺寸类变化。由UIKit发送的通知给你机会向用户界面做出大规模和小规模的改变，而不需要改变视图控制器的其他代码。关于处理适应性变化的更多信息，查看The Adaptive Model。